(this["webpackJsonpexpense-splitter"]=this["webpackJsonpexpense-splitter"]||[]).push([[0],[,,,function(e,t,n){e.exports={button:"Button_button__31esi","button-big":"Button_button-big__1_xip","button-small":"Button_button-small__2i9fi"}},,function(e,t,n){e.exports={addExpenseParagraph:"AddExpense_addExpenseParagraph__1qylo","expense-input":"AddExpense_expense-input__2lk30","cost-input":"AddExpense_cost-input__1nb9p",form__group:"AddExpense_form__group__1hjXK",form__field:"AddExpense_form__field__LvG-2",form__label:"AddExpense_form__label__2_32N",button:"AddExpense_button__3MSZw",checkboxes:"AddExpense_checkboxes__2wfwa"}},,function(e,t,n){e.exports={"add-person":"AddPerson_add-person__KylA2",input:"AddPerson_input__330tV",form__group:"AddPerson_form__group__-sG46",form__field:"AddPerson_form__field__3prXq",form__label:"AddPerson_form__label__8xxLr",button:"AddPerson_button__2y6Kk"}},,,function(e,t,n){e.exports={list:"MiniList_list__2I5-V","mini-list-paragraph":"MiniList_mini-list-paragraph__2kyZ1","paid-by":"MiniList_paid-by__2FVux"}},,,function(e,t,n){e.exports={grid:"Expenses_grid__satLL","users-list":"Expenses_users-list__30YUE","expenses-list":"Expenses_expenses-list__2rq09"}},function(e,t,n){e.exports={backdrop:"Modal_backdrop__2znzX",modal:"Modal_modal__2QgxK","slide-down":"Modal_slide-down__Y0TjC"}},function(e,t,n){e.exports={"summary-overview":"CreateSummary_summary-overview__31HaD","expenses-summary":"CreateSummary_expenses-summary__2HSyl",owe:"CreateSummary_owe__wvc6A",owes:"CreateSummary_owes__1JZEp"}},function(e,t,n){e.exports={box:"Checkbox_box__x8uoh",check:"Checkbox_check__24JEL"}},,function(e,t,n){e.exports={header:"Header_header__2-M0K","header-image":"Header_header-image__2GaMw"}},function(e,t,n){e.exports={item:"ListItem_item__2v6_O",button:"ListItem_button__1lyGi"}},function(e,t,n){e.exports={list:"ButtonList_list__2DZwz"}},function(e,t,n){e.exports={select:"SelectInput_select__1CuJT"}},,,,,function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),a=n(8),r=n.n(a),i=(n(26),n(6)),o=(n(27),n.p+"static/media/sharon-mccutcheon-8lnbXtxFGZw-unsplash.f883d6fb.jpg"),l=n(18),u=n.n(l),d=n(0),j=function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("header",{className:u.a.header,children:Object(d.jsx)("h1",{children:e.title})}),Object(d.jsx)("div",{className:u.a["header-image"],children:Object(d.jsx)("img",{src:o,alt:"Controlling money flow!"})})]})},b=n(2),p=function(e){return Object(d.jsx)("button",{type:e.type||"button",className:e.class,onClick:e.onClick,children:e.children})},x=n(3),m=n.n(x),h=n(19),O=n.n(h),_=function(e){return Object(d.jsxs)("div",{className:O.a.item,children:[Object(d.jsx)("div",{children:Object(d.jsxs)("li",{onClick:function(){return e.onShowUserSummary(e.id)},children:[e.label," ",e.itemCost,e.currency]})}),Object(d.jsx)(p,{type:"button",class:"".concat(O.a.button," ").concat(m.a.button," \n        ").concat(m.a["button-small"]),onClick:function(){return e.onButtonClick(e.id)},children:"X"})]})},f=n(4),v="ACTION_ADD_USER",y="ACTION_REMOVE_USER",C="ACTION_ADD_EXPENSE",g="ACTION_REMOVE_EXPENSE";function E(e,t){switch(t.type){case v:return Object(f.a)(Object(f.a)({},e),{},{usersList:[].concat(Object(i.a)(e.usersList),[t.payload])});case y:return Object(f.a)(Object(f.a)({},e),{},{usersList:e.usersList.filter((function(e){return e.id!==t.payload}))});case C:return Object(f.a)(Object(f.a)({},e),{},{expenses:[].concat(Object(i.a)(e.expenses),[t.payload])});case g:return Object(f.a)(Object(f.a)({},e),{},{expenses:e.expenses.filter((function(e){return e.id!==t.payload}))});default:return e}}var S=Object(s.createContext)();function N(){var e=Object(s.useContext)(S);if(void 0===e)throw new Error("useCardContext must be used within a CardContextProvider");return e}function k(e){var t=e.children,n=e.initialState,c=Object(s.useReducer)(E,Object(f.a)({usersList:[],expenses:[]},n)),a=Object(b.a)(c,2),r=a[0],i=a[1],o=Object(s.useCallback)((function(e){i({type:v,payload:e})}),[]),l=Object(s.useCallback)((function(e){i({type:y,payload:e})}),[]),u=Object(s.useCallback)((function(e){i({type:C,payload:e})}),[]),j=Object(s.useCallback)((function(e){i({type:g,payload:e})}),[]),p=Object(s.useMemo)((function(){return Object(f.a)(Object(f.a)({},r),{},{addUser:o,removeUser:l,addExpense:u,removeExpense:j})}),[r,o,l,u,j]);return Object(d.jsx)(S.Provider,{value:p,children:t})}var w=function(e,t){var n="Unknown";return e.forEach((function(e){e.id===t&&(n=e.name)})),n},A=n(10),P=n.n(A),L=function(e){var t,n,s=N().usersList,c=e.participants.map((function(c){return t=w(s,c),n=c===e.paidBy?"".concat(P.a["mini-list-paragraph"]," ").concat(P.a["paid-by"]):P.a["mini-list-paragraph"],Object(d.jsx)("p",{className:n,children:t})}));return Object(d.jsx)("div",{className:P.a.list,children:c})},B=function(e){var t=N(),n=t.expenses,s=(t.usersList,t.removeExpense),c=function(e){s(e)},a=null===n||void 0===n?void 0:n.map((function(e,t){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(_,{itemCost:e.cost,label:e.description,id:e.id,currency:"[$]",onButtonClick:c}),Object(d.jsx)(L,{participants:e.participants,paidBy:e.paidBy})]})}));return Object(d.jsxs)("div",{className:e.class,children:[Object(d.jsx)("h2",{children:" expenses list"}),Object(d.jsx)("ul",{children:a})]})},U=n(20),F=n.n(U),T=function(e){var t=[m.a.button,m.a["button-big"]].join(" ");return Object(d.jsxs)("div",{className:F.a.list,children:[Object(d.jsx)(p,{type:"button",class:t,onClick:e.showAddUserCart,children:"Add person"}),Object(d.jsx)(p,{type:"button",class:t,onClick:e.showAddExpenseCart,children:"Add expense"}),Object(d.jsx)(p,{type:"button",class:t,onClick:e.showCreateSummaryCart,children:"Summary"})]})},M=function(e){var t=N(),n=t.usersList,s=t.removeUser,c=function(e){s(e)},a=null===n||void 0===n?void 0:n.map((function(t,n){return Object(d.jsx)(_,{label:t.name,id:t.id,onButtonClick:c,onShowUserSummary:e.onShowUserSummary},t.id)}));return Object(d.jsxs)("div",{className:e.class,children:[Object(d.jsx)("h2",{children:" Users list"}),Object(d.jsx)("ul",{children:a})]})},I=n(13),D=n.n(I),X=n(14),q=n.n(X),H=function(e){return Object(d.jsx)("div",{className:q.a.backdrop,onClick:e.onClose})},V=document.getElementById("overlay"),G=function(e){return Object(d.jsx)("div",{className:q.a.modal,children:Object(d.jsx)("div",{className:q.a.contents,children:e.children})})},J=function(e){return Object(d.jsxs)(d.Fragment,{children:[r.a.createPortal(Object(d.jsx)(H,{onClose:e.onClose}),V),r.a.createPortal(Object(d.jsx)(G,{children:e.children}),V)]})},K=n(15),R=n.n(K),Z=function(e){var t=N(),n=t.expenses,s=t.usersList,c=[];s.forEach((function(e,t){c[t]=n.filter((function(t){return t.participants.some((function(t){return e.id===t}))}))}));var a={};c.forEach((function(e,t){a[s[t].id]={},e.forEach((function(e){e.participants.forEach((function(n){var c=e.participants.length,r=parseFloat(e.cost)/c,i=0;a[s[t].id][n]&&(i=a[s[t].id][n].balance),s[t].id!==n&&(s[t].id===e.paidBy?a[s[t].id][n]={balance:parseFloat(i)+r}:n===e.paidBy&&(a[s[t].id][n]={balance:parseFloat(i)-r}))}))}))})),console.log(a);var r=s.map((function(e,t){var n=0;return c[t].forEach((function(t){e.id===t.paidBy?n+=t.cost*((t.participants.length-1)/t.participants.length):n-=t.cost/t.participants.length})),n})),i=function(e,t){return e>0?Object(d.jsxs)("p",{className:R.a.owes,children:["total"===t?" ":"Owes you "," $",Math.abs(e.toFixed(2))]}):Object(d.jsxs)("p",{className:R.a.owe,children:["total"===t?" ":"You owe "," $",Math.abs(e.toFixed(2))]})},o=function(){return Object.entries(a).map((function(e,t){var n,c=Object(b.a)(e,2),a=c[0],o=c[1],l=w(s,a),u=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h2",{children:l}),Object(d.jsx)("p",{children:"Total balance: "}),i(r[t],"total")]})},j=null===(n=Object.entries(o))||void 0===n?void 0:n.map((function(e){var t=Object(b.a)(e,2),n=t[0],c=t[1].balance;if(0!==c&&Object.keys(o).length){var a=w(s,n);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("p",{children:[a," "]}),i(c)]})}}));return Object(d.jsxs)("div",{children:[Object(d.jsx)(u,{}),j]})}))};return Object(d.jsx)(J,{onClose:e.onClose,children:Object(d.jsxs)("div",{className:R.a["summary-overview"],children:[Object(d.jsx)("h2",{children:"Expenses summary"}),Object(d.jsx)(o,{})]})})},$=n(7),z=n.n($),Y=n(12),Q=function(e){var t=Object(s.useState)(""),n=Object(b.a)(t,2),c=n[0],a=n[1],r=N().addUser;return Object(d.jsx)(J,{onClose:e.onClose,children:Object(d.jsxs)("div",{className:z.a["add-person"],children:[Object(d.jsx)("h2",{children:"Add Person to users list"}),Object(d.jsxs)("div",{className:z.a.input,children:[Object(d.jsx)("input",{type:"input",className:z.a.form__field,placeholder:"Name",name:"name",value:c,onChange:function(e){return a(e.currentTarget.value)},id:"name",required:!0}),Object(d.jsx)("label",{for:"name",className:z.a.form__label,children:"Name"})]}),Object(d.jsx)(p,{type:"button",class:"".concat(z.a.button," ").concat(m.a.button," ").concat(m.a["button-small"]),onClick:function(e){r({name:c,id:Object(Y.uuid)()})},children:"Add Person"})]})})},W=n(5),ee=n.n(W),te=n(16),ne=n.n(te),se=function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:ne.a.box,children:[Object(d.jsx)("input",{id:e.id,type:"checkbox",value:e.participants,onChange:function(t){return e.onChange(e.id,t.currentTarget.checked)}}),Object(d.jsx)("span",{className:ne.a.check}),Object(d.jsx)("label",{className:ne.a.xxx,for:e.id,children:e.name})]})})},ce=n(21),ae=n.n(ce),re=function(e){var t=e.usersList.map((function(e,t){return Object(d.jsx)("option",{value:e.id,children:e.name},e.id)}));return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("select",{className:ae.a.select,name:"Paid by",id:"Paid by select",onChange:e.onChange,children:t})})},ie=function(e){var t=Object(s.useState)(""),n=Object(b.a)(t,2),c=n[0],a=n[1],r=Object(s.useState)(""),o=Object(b.a)(r,2),l=o[0],u=o[1],j=Object(s.useState)(""),x=Object(b.a)(j,2),h=x[0],O=x[1],_=Object(s.useState)(""),f=Object(b.a)(_,2),v=(f[0],f[1],Object(s.useState)("")),y=Object(b.a)(v,2),C=(y[0],y[1],N()),g=C.usersList,E=C.addExpense,S=(C.addUser,C.removeExpense,Object(s.useState)(g[0].id)),k=Object(b.a)(S,2),w=k[0],A=k[1],P=Object(Y.uuid)(),L=function(e,t){t?O([].concat(Object(i.a)(h),[e])):h.includes(e)&&O(h.filter((function(t){return t!==e})))},B=g.map((function(e){return Object(d.jsx)(se,{name:e.name,id:e.id,participants:h,onChange:L})}));return Object(d.jsxs)(J,{onClose:e.onClose,children:[Object(d.jsx)("h2",{children:"Add expense to expenses list"}),Object(d.jsxs)("div",{className:ee.a["expense-input"],children:[Object(d.jsx)("input",{type:"input",className:ee.a.form__field,placeholder:"expense",name:"expense",id:"expense",value:c,onChange:function(e){return a(e.currentTarget.value)},required:!0}),Object(d.jsx)("label",{for:"expense",className:ee.a.form__label,children:"Expense"})]}),Object(d.jsxs)("div",{className:ee.a["cost-input"],children:[Object(d.jsx)("input",{type:"input",className:ee.a.form__field,placeholder:"cost",name:"cost",id:"cost",value:l,onChange:function(e){return u(e.currentTarget.value)},required:!0}),Object(d.jsx)("label",{for:"cost",className:ee.a.form__label,children:"Cost"})]}),Object(d.jsxs)("div",{className:ee.a.checkboxes,children:[Object(d.jsx)("p",{className:ee.a.addExpenseParagraph,children:"Choose expense participants:"}),B]}),Object(d.jsx)("p",{className:ee.a.addExpenseParagraph,children:"Choose who paid for this expense:"}),Object(d.jsx)(re,{usersList:g,onChange:function(e){A(e.currentTarget.value);var t=1;h.forEach((function(n){console.log("el: ".concat(n," targetValue ").concat(e.currentTarget.value)),n===e.currentTarget.value&&(t+=1,console.log("zmieniam na true"))})),t<2&&O([].concat(Object(i.a)(h),[e.currentTarget.value]))}}),Object(d.jsx)(p,{type:"button",class:"".concat(ee.a.button," ").concat(m.a.button," ").concat(m.a["button-small"]),onClick:function(e){E({description:c,cost:l,participants:h,paidBy:w,id:P})},children:"Add Expense"})]})},oe=c.a.createContext({usersList:[],itemsDescriptions:[],itemsCosts:[],itemsParticipants:[],itemsPaidBy:[],addUser:function(e){},removeUser:function(e){}}),le=function(e){var t=Object(s.useState)(!1),n=Object(b.a)(t,2),c=n[0],a=(n[1],{usersList:c.usersList,itemsDescriptions:c.itemsDescriptions,itemsCosts:c.itemsCosts,itemsParticipants:c.itemsParticipants,itemsPaidBy:c.itemsPaidBy});return Object(d.jsx)(oe.Provider,{value:a,children:e.children})},ue=function(e){var t=N(),n=t.expenses,s=t.usersList,c=n.filter((function(t){return t.paidBy===e.userSummaryId})),a=n.filter((function(t){return t.participants.some((function(t){return e.userSummaryId===t}))})),r=null===c||void 0===c?void 0:c.map((function(e,t){return Object(d.jsxs)("p",{children:[e.description,": ",e.cost,"[$]"]})})),i=w(s,e.userSummaryId),o=null===a||void 0===a?void 0:a.map((function(e,t){var n=w(s,e.paidBy);return Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:[e.description,":",e.cost,"[$]"]}),Object(d.jsxs)("p",{children:[" Paid by : ",n]})]})})),l=o.length;return Object(d.jsxs)(J,{onClose:e.onHideUserSummary,children:[Object(d.jsxs)("h2",{children:[" ",i," paid for:"]}),Object(d.jsx)("div",{children:r}),Object(d.jsxs)("h2",{children:[" ",i," took a part in ",l," transactions:"]}),Object(d.jsx)("div",{children:o})]})},de=function(e){var t=Object(s.useState)(!1),n=Object(b.a)(t,2),c=n[0],a=n[1],r=Object(s.useState)(!1),i=Object(b.a)(r,2),o=i[0],l=i[1],u=Object(s.useState)(!1),j=Object(b.a)(u,2),p=j[0],x=j[1],m=Object(s.useState)(!1),h=Object(b.a)(m,2),O=h[0],_=h[1],f=Object(s.useState)(""),v=Object(b.a)(f,2),y=v[0],C=v[1];return Object(d.jsxs)(le,{children:[Object(d.jsx)(T,{showAddUserCart:function(){a(!0)},showAddExpenseCart:function(){l(!0)},showCreateSummaryCart:function(){x(!0)}}),Object(d.jsxs)("div",{className:D.a.grid,children:[Object(d.jsx)(M,{class:D.a["users-list"],onShowUserSummary:function(e){C(e),_(!0)}}),Object(d.jsx)(B,{class:D.a["expenses-list"]})]}),c&&Object(d.jsx)(Q,{onClose:function(){a(!1)}}),o&&Object(d.jsx)(ie,{onClose:function(){l(!1)}}),p&&Object(d.jsx)(Z,{onClose:function(){x(!1)}}),O&&Object(d.jsx)(ue,{userSummaryId:y,onHideUserSummary:function(){_(!1)}})]})};var je=function(){var e=[];return e=Object(i.a)("sghgsaga kjjy vtteet").forEach((function(t){return[].concat(Object(i.a)(e),[{letter:t}])})),console.log(e),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(j,{title:"Money splitter"}),Object(d.jsx)("main",{children:Object(d.jsx)(de,{})})]})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),s(e),c(e),a(e),r(e)}))};r.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(k,{children:Object(d.jsx)(je,{})})}),document.getElementById("root")),be()}],[[33,1,2]]]);
//# sourceMappingURL=main.cb0f9beb.chunk.js.map